{"version":3,"sources":["queries/queries.js","components/ProductDetails.js","components/ProductList.js","components/AddProduct.js","components/TestProducts.js","App.js","index.js"],"names":["getProductsQuery","gql","addProductQuery","getImpressionsQuery","addImpressionQuery","ProductDetails","displayImpressions","product","props","data","Fragment","className","name","impressions","map","item","key","id","date","length","this","Component","graphql","options","variables","productId","ProductList","state","selected","displayProducts","loading","products","onClick","e","setState","AddProduct","submitForm","preventDefault","refetchQueries","query","onSubmit","bind","type","onChange","target","value","compose","TestProducts","onTodaysDate","Date","toISOString","slice","submitPressureTest","window","location","reload","App","client","ApolloClient","uri","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c37cef02.chunk.js","sourcesContent":["import { gql } from 'apollo-boost';\n\nconst getProductsQuery = gql`\n    {\n        products {\n            id\n            name\n        }\n    }\n`\n\nconst addProductQuery = gql`\n    mutation($name: String!) {\n            addProduct(name: $name) {\n                name\n                id\n        }\n    }\n`\n\nconst getImpressionsQuery = gql`\n    query($id: ID) {\n        product(id: $id) {\n            name\n            impressions {\n                id\n                date\n            }\n        }\n    }\n`\n\nconst addImpressionQuery = gql`\n    mutation($date: String!, $productId: String!) {\n        addImpression(date: $date, productId: $productId) {\n            date\n            id\n        }\n    }\n`\n\nexport { getProductsQuery, addProductQuery, getImpressionsQuery, addImpressionQuery };","import React, { Component } from 'react';\nimport { graphql } from 'react-apollo';\n\n// Queries\nimport { getImpressionsQuery } from '../queries/queries';\n\nclass ProductDetails extends Component {\n\n    displayImpressions = () => {\n        const { product } = this.props.data;\n\n        if (product) {\n            return(\n                <React.Fragment>\n                    <h3 className=\"details__heading\">{product.name}</h3>\n                    <p className=\"details__impressions-heading\">All impressions by this pressure point:</p>\n                    <ul className=\"details__impressions\">\n                        {\n                            product.impressions.map(item => {\n                                return <li key={item.id} className=\"details__item\">{item.date}</li>\n                            })\n                        }\n                    </ul>\n                    <p className=\"details__total-heading\">Total Impressions:</p>\n                    <div className=\"details__total\">{product.impressions.length}</div>\n                </React.Fragment>\n            )\n        } else {\n            return(\n                <p className=\"details__unselected\">No Pressure Point selected...</p>\n            )\n        }\n    }\n\n    render() {\n        return (\n            <div className=\"details\">\n                {this.displayImpressions()}\n            </div>\n        )\n    }\n}\n\nexport default graphql(getImpressionsQuery, {\n    options: (props) => {\n        return {\n            variables: {\n                id: props.productId\n            }\n        }\n    }\n})(ProductDetails);","import React, { Component } from 'react';\nimport { graphql } from 'react-apollo';\n\n// Components\nimport ProductDetails from './ProductDetails';\n\n// Queries\nimport { getProductsQuery } from '../queries/queries';\n\nclass ProductList extends Component {\n    state = {\n        selected: null,\n    }\n\n    displayProducts = () => {\n        let data = this.props.data;\n        if (data.loading) {\n            return( <div>Loading products...</div>);\n        } else {\n            return data.products.map(product => {\n                return (\n                    <li\n                        key={product.id}\n                        onClick={(e) => {this.setState({selected: product.id})}}\n                        className={product.id === this.state.selected ? \"list__item--active\" : \"list__item\"}\n                    >\n                        { product.name }\n                    </li>\n                )\n            })\n        }\n    }\n\n    render() {\n        return (\n            <div className=\"list\">\n                <div className=\"list__container\">\n                    <h3 className=\"list__heading\">Check Pressure Points:</h3>\n                    <ul className=\"list__list\">\n                        {this.displayProducts()}\n                    </ul>\n                </div>\n\t\t\t\t<ProductDetails productId={this.state.selected} />\n            </div>\n        )\n    }\n}\n\nexport default graphql(getProductsQuery)(ProductList);","import React, { Component } from 'react';\nimport { graphql } from 'react-apollo';\nimport { flowRight as compose } from 'lodash';\n\n// Queries\nimport { addProductQuery, getProductsQuery } from '../queries/queries';\n\nclass AddProduct extends Component {\n    state = {\n        name: null,\n    }\n\n    submitForm = (e) => {\n        e.preventDefault();\n        \n        if (this.state.name == null) {\n            return;\n        } else {\n            this.props.addProductQuery({\n                variables: {\n                    name: this.state.name,\n                },\n                refetchQueries: [{ query: getProductsQuery }]\n            });\n        }\n    }\n\n    render() {\n        return (\n            <div className=\"add\">\n                <h3 className=\"add__heading\">Add a Pressure Point:</h3>\n                <form className=\"add__form\" onSubmit={this.submitForm.bind(this)}>\n                    <label className=\"add__name-heading\">Name:</label>\n                    <input className=\"add__name\" type=\"text\" onChange={(e) => this.setState({ name: e.target.value })} />\n                    <button className=\"add__button\">+</button>\n                </form>\n            </div>\n        )\n    }\n}\n\nexport default compose(\n    graphql(addProductQuery, { name: \"addProductQuery\"}),\n    graphql(getProductsQuery, { name: \"getProductsQuery\"})\n)(AddProduct);","import React, { Component } from 'react';\nimport { graphql } from 'react-apollo';\nimport { flowRight as compose } from 'lodash';\n\n// Queries\nimport { getProductsQuery, addImpressionQuery } from '../queries/queries';\n\nclass TestProducts extends Component {\n    state = {\n        date: null,\n        productId: null,\n    }\n\n    onTodaysDate = () => {\n        this.setState({\n            ...this.state,\n            date: new Date().toISOString().slice(0, 10),\n        })\n    }\n\n    submitPressureTest = () => {\n        if (this.state.date == null || this.state.productId == null) {\n            return;\n        } else {\n            this.props.addImpressionQuery({\n                variables: {\n                    date: this.state.date,\n                    productId: this.state.productId,\n                },\n            });\n            window.location.reload(false);\n        }\n    }\n\n    displayProducts = () => {\n        let data = this.props.getProductsQuery;\n        if (data.loading) {\n            return(<div>Loading...</div>);\n        } else {\n            return(\n                data.products.map(product => {\n                    return(\n                        <li\n                            key={product.id}\n                            onClick={(e) => this.setState({productId: product.id})}\n                            className={product.id === this.state.productId ? \"test__item--active\" : \"test__item\"}\n                        >{product.name}</li>)\n                })\n            );\n        }\n    }\n\n    render() {\n        return (\n            <div className=\"test\">\n                <h3 className=\"test__heading\">Test Pressure Points:</h3>\n                <p className=\"test__points-heading\">Pick a Pressure Point:</p>\n                <ul className=\"test__points\">\n                    {this.displayProducts()}\n                </ul>\n                <label className=\"test__date-heading\">Pick a test date:</label>\n                <input\n                    type=\"date\"\n                    onChange={(e) => this.setState({date: e.target.value})}\n                    className=\"test__date\"\n                />\n                <button onClick={this.submitPressureTest} className=\"test__button\">Submit</button>\n                <button onClick={this.onTodaysDate} className=\"test__button-2\">Today's Date</button>\n            </div>\n        )\n    }\n}\n\nexport default compose(\n    graphql(getProductsQuery, { name: \"getProductsQuery\"}),\n    graphql(addImpressionQuery, { name: \"addImpressionQuery\" })\n)(TestProducts);\n","import React, { Component } from 'react';\nimport './App.scss';\n\n// Components\nimport ProductList from './components/ProductList';\nimport AddProduct from './components/AddProduct';\nimport TestProducts from './components/TestProducts';\n\nexport default class App extends Component {\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"main\">\n\t\t\t\t<h1 className=\"main__heading\">StudioME Analytics</h1>\n\t\t\t\t<ProductList />\n\t\t\t\t<TestProducts />\n\t\t\t\t<AddProduct />\n\t\t\t</div>\n\t\t)\n\t}\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport ApolloClient from 'apollo-boost';\nimport { ApolloProvider } from 'react-apollo';\n\n// Apollo client setup\nconst client = new ApolloClient({\n\turi: 'https://studiome-analytics-server.herokuapp.com/graphql',\n})\n\nReactDOM.render(\n    <ApolloProvider client={client}><App /></ApolloProvider>\n    , document.getElementById('root'));"],"sourceRoot":""}